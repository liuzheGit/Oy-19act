<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>迎新庆元旦</title>
  <meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
  <script>
    document.write('<style>html{font-size:'+window.innerWidth / 10+'px;}</style>')
  </script>
  <link rel="stylesheet" href="./node_modules/animate.css/animate.min.css">
  <link rel="stylesheet" href="./style.css">
</head>
<body>
<div class="dialog-wrap get-success">
  <div class="dialog-award animated bounceInUp">
    <img src="./images/close-btn.png" class="close-btn">
    <div class="dialog-btns">
      <a href="#" class="award-btn">去投资</a>
    </div>
  </div>
</div>

<div class="dialog-wrap get-prize">
  <div class="dialog-award animated bounceInUp">
    <img src="./images/close-btn.png" class="close-btn">
    <p class="prize-price">20</p>
    <div class="prize-btns">
      <a href="#" class="to-record">查看红包</a>
      <a href="#" class="award-btn">立即使用</a>
    </div>
  </div>
</div>

<div class="dialog-wrap get-fail">
  <div class="dialog-award animated bounceInUp">
    <img src="./images/close-btn.png" class="close-btn">
    <p class="fail-words">您已获得此红包!</p>
    <div class="dialog-btns">
      <a href="#" class="ok-btn">确定</a>
    </div>
  </div>
</div>
<div class="dialog-wrap to-login">
  <div class="dialog-award animated bounceInUp">
    <img src="./images/close-btn.png" class="close-btn">
    <p class="fail-words">请先登录平台账号!</p>
    <div class="dialog-btns">
      <a href="#">立即登录</a>
    </div>
  </div>
</div>
<div class="dialog-wrap award-record">
  <div class="dialog-award animated bounceInUp">
    <img src="./images/close-btn.png" class="close-btn">
    <div class="record-words">
      <h3>2019年1月10日</h3>
      <div class="record-items">
        <div><span>第一次</span><span>5元现金红包</span></div>
        <div><span>第二次</span><span>20元现金礼包</span></div>
        <div><span>第二次</span><span>20元现金礼包</span></div>
        <div><span>第二次</span><span>20元现金礼包</span></div>
        <div><span>第二次</span><span>20元现金礼包</span></div>
        <div><span>第二次</span><span>20元现金礼包</span></div>
        <div><span>第二次</span><span>20元现金礼包</span></div>
        <div><span>第二次</span><span>20元现金礼包</span></div>
        <div><span>第二次</span><span>20元现金礼包</span></div>
        <div><span>第二次</span><span>20元现金礼包</span></div>
        <div><span>第二次</span><span>20元现金礼包</span></div>
      </div>
    </div>
    <div class="dialog-btns">
      <a href="#">立即使用</a>
    </div>
  </div>
</div>
<div class="main">
  <div class="main-top">
    <div class="top-banner"></div>
    <div class="main-one">
      <div class="one-title title-wrap">
        <img src="./images/one.png">
      </div>
      <p class="times-hint">今日剩余<span class="red-times">4</span>次</p>
      <div class="egg-main">
        <div class="egg-wrap">
          <!--<img src="./images/hammer.png" class="hammer">-->
          <div class="gold-egg">
            <img src="./images/egg.png">
          </div>
          <div class="egg-bottom">
            <img src="./images/egg-buttom.png">
          </div>
        </div>
        <div class="egg-wrap">
          <div class="gold-egg">
            <img src="./images/egg.png">
          </div>
          <div class="egg-bottom">
            <img src="./images/egg-buttom.png">
          </div>
        </div>
        <div class="egg-wrap">
          <div class="gold-egg">
            <img src="./images/egg.png">
          </div>
          <div class="egg-bottom">
            <img src="./images/egg-buttom.png">
          </div>
        </div>
      </div>
      <div class="prize-setting">
        <img src="./images/egg-rect.png">
      </div>
      <p class="explain-title"><span>砸金蛋</span><span>赢红包</span></p>
      <div class="explain-words">
        <p>活动期间用户每天有5次砸金蛋机会;</p>
        <p>活动红包在活动期内有效,活动红包金额可累积; </p>
        <p>单笔投资每满10000元即可激活10元,所激活金额直接进入您的平台账户;</p>
        <p>5元现金奖励无需激活,抽中即直接发放至用户的平台账户;</p>
      </div>
    </div>

    <div class="main-two">
      <div class="two-title title-wrap">
        <img src="./images/two.png">
      </div>
      <div class="explain2">
        <div class="explain2-words">
          <h3>满标有奖</h3>
          <p>活动期间,标的最后一笔投资获得当笔投资 金额1‰的现金奖励,所得奖励直接进入您的 平台账户;</p>
        </div>
        <div class="explain2-img">
          <img src="./images/hongbaobao.png">
        </div>
      </div>
    </div>

    <div class="main-three">
      <div class="three-title title-wrap">
        <img src="./images/three.png">
      </div>
      <div class="explain3-img">
        <img src="./images/hongbaobao2.png">
      </div>
      <div class="explain3">
        <h3>喜迎2019  登录送现金</h3>
        <p>(每人限领一次)</p>
        <div class="explain3-words">
          <p>喜迎2019,平台用户历史投资累计满10万,并在此活动期 间登录即可领取19元现金红包</p>
          <p>活动期间投资任意金额,19元现金红包即直接进入你的平台账户</p>
        </div>
        <div class="explain3-button">
          <a href="#"><img src="./images/btn.png"></a>
        </div>
      </div>
    </div>
  </div>
  <div class="main-bottom">
    <img src="./images/main-bottom.png">
  </div>
</div>
</body>
</html>
<!-- <script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script> -->
<script src="./node_modules/jquery/dist/jquery.min.js"></script>
<script>
  $(function(){
    $('.dialog-wrap').hide();

    var remainTimes = 5, isLogin = true;
    var $hammer = $('<img src="./images/hammer.png" class="hammer">');
    var isBroken = false;
    var myTime = null;
    $('.times-hint .red-times').html(remainTimes);

    $('.prize-btns .to-record').click(function(e){
      e.preventDefault();
      $(this).parents('.get-prize').hide();
      setTimeout(function(){
        $('.dialog-wrap.award-record').show();
      },8)
    })

    $('.egg-wrap').click(function(){
      if(isLogin === true && remainTimes > 0){
        if(isBroken !== true){
          isBroken = true;
          clearTimeout(myTime);
          $(this).append($hammer);
          let _this = $(this);
          setTimeout(function(){
            _this.find('.gold-egg img').attr('src', './images/egg-broke_03.png');
            isBroken = false;
            remainTimes -= 1;
            $('.times-hint .red-times').html(remainTimes);
            $('.dialog-wrap.get-prize').show();
          }, 1000);
          // myTime = setTimeout(function(){
          //   _this.find('.hammer').detach();
          //   _this.find('.gold-egg img').attr('src', './images/egg.png');
          // },1200)
        }
      }else if(isLogin === false){
        $('.dialog-wrap.to-login').show();
      }
    });
    $('.explain3-button a').click(function(e){
      e.preventDefault();
      $('.get-success').show()
    })
    $('.close-btn').click(function(e){
      $(this).parent('.dialog-award').toggleClass('bounceInUp');
      $('.egg-main .hammer').detach();
      $('.gold-egg img').attr('src', './images/egg.png');
      setTimeout(()=>{
        $(this).parent('.dialog-award').toggleClass('bounceInUp');
        $(this).parents('.dialog-wrap').hide();
      },100)
    })

    $('.ok-btn').click(function(e){
      e.preventDefault();
      $(this).parents('.dialog-award').toggleClass('bounceInUp');
      setTimeout(()=>{
        $(this).parents('.dialog-award').toggleClass('bounceInUp');
        $(this).parents('.dialog-wrap').hide();
      },100)
    })

  })
</script>